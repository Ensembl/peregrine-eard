>> test

test returns of nested bundles

>> input

procedure print(a) { 0 }

function func1() { 
    let a.a = 0;
    let a.b = 1;
    let a.c = 2;
    *a
}

function func2() { func1() }

procedure p() {
    let a.d = 3;
    (func1(),func2(),*a)
}

let (*x,*y,*z) = p();
let (*m,*n) = (func1(),func2());

print(m.a);
print(m.b);
print(m.c);
print(n.a);
print(x.a);
print(x.c);
print(y.b);
print(y.c);
print(z.d);

>> unbundle

>> test

test anon regression

>> input

procedure proc1() {
    let a.a = 0;
    (*a,1)
}

let (*b,c) = proc1();

>> xunbundle

>> test

test anon regression2

>> input

procedure print(a) { 0 }

function func1() {
    let a.a = 0;
    *a
}

let *b = func1();
print(b.z);

>> xunbundle
